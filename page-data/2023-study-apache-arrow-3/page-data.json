{"componentChunkName":"component---src-templates-post-jsx","path":"/2023-study-apache-arrow-3/","result":{"data":{"site":{"siteMetadata":{"title":"dev0wner's Engineering Blog"}},"markdownRemark":{"id":"8cbc3a7e-7971-5be2-8cc5-aa54856d9830","excerpt":"서문    이전 포스트에서 Apache Arrow에 대해 간략한 내용과 특징들을 살펴보았습니다. 이번에는 내부 구현을 보면서 조금 더 살펴보려고 합니다. 여러 언어 구현체가 있지만, 가장 익숙한 Python으로 보겠습니다. PyArrow Architecture     Python에서는 Apache Arrow를 PyArrow라는 이름으로 구현하였습니다. P…","html":"<h2>서문</h2>\n<p>   이전 포스트에서 Apache Arrow에 대해 간략한 내용과 특징들을 살펴보았습니다. 이번에는 내부 구현을 보면서 조금 더 살펴보려고 합니다. 여러 언어 구현체가 있지만, 가장 익숙한 Python으로 보겠습니다.</p>\n<h2>PyArrow Architecture</h2>\n<p><figure class='gatsby-resp-image-figure' style='margin-bottom: 16px;'>\n    <span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; '>\n      <a class='gatsby-resp-image-link' href='/static/377c730f8e56412e882d39a35d64ca23/be2a9/pyararow.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 58.235294117647065%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAACQ0lEQVR42nWSCW/aQBCF+f9/pa16REpbpYQkEK5w+MI2BN/BJxhsh2DO19mlURSpWenTzNrr8XszW4mLAPMiQlKEiPMA0cpHlH1EgHA1w26/A1vH4xGHwwHb7ZbnbFVulSvUlSrutRoGdgujYADZ70P5H/RO8LpYFUuUZYnRSIGqqgjDEPv9/lxQ9wWMAwmTUMY0HsGcax9iLTR+Zl0+k6IT4jhCnud4XafTCRUrjOAmCewoImJY9DcrIOg5zwnTD84EAYyZj3J3tryjyJS+vLzwYrzg15s6ftw2cFFv4rLZRWOko6U/oi5raKhj3KsTPExt9AwHPdNBZ2IgzXLqWwlRFDEcDmHb9pvlO0FCg2jJKpqSgo6qozd+5HuWMwTDhmg5kCwXQ8NCQYrYEFzPQ0Lu3lkeOR50bwbNfYJGucqwXUxmAaZBTEQ8Hz/5HHZuQ1NlH8dxjIDawCKzzRV+urrGlz81fKvd8fiZ9t9v6/jVfsD1QER1IOBGlLnVge2h+2gipUFsqXearnPLbNKsl7wgs8FUMhT7DFOp0HOJeiZTlPkZcuH5PF9vNqTwiMViwVkul2+W+8YcgjmH5CyheBlEZ4WnJINiZmirS3S1Mx01RYfiwzhDsd7iQJfbsizopNKjXu7+Tb7ye+CgKrpoTVP0nAJtM4cRrNCQYlw0A/xsE50IlxQZNTEnyxuyvCG7Avp9uvCKgqIozgWd5BnefE138ZkoYMcF5tkaYVrCjUt4yXuccI3t7sgtp2nK7bJJvyr8C3a/bcUqMP7DAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='PyArrow Architecture' title='PyArrow Architecture' src='/static/377c730f8e56412e882d39a35d64ca23/ca1dc/pyararow.png' srcset='/static/377c730f8e56412e882d39a35d64ca23/e7570/pyararow.png 170w,\n/static/377c730f8e56412e882d39a35d64ca23/f46e7/pyararow.png 340w,\n/static/377c730f8e56412e882d39a35d64ca23/ca1dc/pyararow.png 680w,\n/static/377c730f8e56412e882d39a35d64ca23/be2a9/pyararow.png 748w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\n    <figcaption class='gatsby-resp-image-figcaption'>PyArrow Architecture</figcaption>\n  </figure></p>\n<p>   Python에서는 Apache Arrow를 PyArrow라는 이름으로 구현하였습니다. PyArrow는 Arrow C++ Implementation에서 제공하는 대부분의 기능을 <code class=\"language-text\">Cython</code>으로 wrapping 하여 제공한다고 보면 됩니다. </p>\n<h2>Quick Start</h2>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\nmmap_file <span class=\"token operator\">=</span> pa<span class=\"token punctuation\">.</span>memory_map<span class=\"token punctuation\">(</span><span class=\"token string\">'demo-file.arrow'</span><span class=\"token punctuation\">,</span> r<span class=\"token punctuation\">)</span>\ntable <span class=\"token operator\">=</span> pa<span class=\"token punctuation\">.</span>ipc<span class=\"token punctuation\">.</span>RecordBatchFileReader<span class=\"token punctuation\">(</span>mmap_file<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>read_all<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\ndf <span class=\"token operator\">=</span> table<span class=\"token punctuation\">.</span>to_pandas<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># pandas -> arrow -> pandas</span>\ntable_pa <span class=\"token operator\">=</span> pa<span class=\"token punctuation\">.</span>Table<span class=\"token punctuation\">.</span>from_pandas<span class=\"token punctuation\">(</span>df_pandas<span class=\"token punctuation\">)</span>\ndf_pandas <span class=\"token operator\">=</span> table_pa<span class=\"token punctuation\">.</span>to_pandas<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span></code></pre></div>\n<p>   위 코드는 Apache Arrow Quick Start code 입니다. </p>","frontmatter":{"title":"2023 부담있는 스터디 - Apache Arrow 코드 파헤치기","date":"February 06, 2023","update":"February 06, 2023","tags":["Apache Arrow"],"series":"Apache Arrow 찍먹하기"},"fields":{"slug":"/2023-study-apache-arrow-3/","readingTime":{"minutes":0.905}}},"seriesList":{"edges":[{"node":{"id":"f2a9d2fa-e484-537f-a459-555cd8aeb2cb","fields":{"slug":"/2023-study-apache-arrow-1/"},"frontmatter":{"title":"2023 부담있는 스터디 - Apache Arrow란 무엇인가?"}}},{"node":{"id":"33f16734-938b-5773-a851-1ba45100db6f","fields":{"slug":"/2023-study-apache-arrow-2/"},"frontmatter":{"title":"2023 부담있는 스터디 - Apache Arrow Flight RPC"}}},{"node":{"id":"8cbc3a7e-7971-5be2-8cc5-aa54856d9830","fields":{"slug":"/2023-study-apache-arrow-3/"},"frontmatter":{"title":"2023 부담있는 스터디 - Apache Arrow 코드 파헤치기"}}}]},"previous":{"fields":{"slug":"/2023-study-apache-arrow-2/"},"frontmatter":{"title":"2023 부담있는 스터디 - Apache Arrow Flight RPC"}},"next":null},"pageContext":{"id":"8cbc3a7e-7971-5be2-8cc5-aa54856d9830","series":"Apache Arrow 찍먹하기","previousPostId":"33f16734-938b-5773-a851-1ba45100db6f","nextPostId":null}},"staticQueryHashes":[]}